<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('head.ejs') %>
        <title>
            Product
        </title>
        <link rel="stylesheet" href="../css/category_product.css" />
</head>


<body>
    <!-- Header Section -->
    <header>
        <%- include('header_home_en.ejs') %>
    </header>
    <!-- Breadcrumb -->
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/index">Home</a></li>
            <li class="breadcrumb-item"><a href="/product">Products</a></li>
        </ol>
    </nav>

    <!-- Products Section -->
    <section class="products">
        <h2>
            <h2>Products</h2>
        </h2>
        <div class="product-grid">
            <% if (products && products.length> 0) { %>
                <% products.forEach(product=> { %>
                    <div class="product animation">
                        <a href="/Product_Detail/?id=<%= product.p_id %>">
                            <div class="product">
                                <!-- Hiển thị hình ảnh đầu tiên trong mảng images -->
                                <img src="../images/<%= product.p_image.split(',')[0].trim() %>" height="200"
                                    alt="<%= product.p_name %>">
                                <p class="name">
                                    <%= product.p_name_en%>
                                </p>
                                <p class="num">
                                    <%= product.p_category %>
                                </p>
                                <p class="price">$ <%= product.p_price_en %>
                                </p>
                            </div>
                        </a>
                    </div>
                    <% }); %>
                        <% } else { %>
                            <p>No products available </p>
                            <% } %>
        </div>
    </section>

    <!-- Phân trang -->
    <div class="pagination">
        <% if (currentPage> 1) { %>
            <a href="/product?page=<%= currentPage - 1 %>">&laquo; Previous</a>
            <% } %>

                <% for (let i=1; i <=totalPages; i++) { %>
                    <a href="/product?page=<%= i %>" class="<%= i === currentPage ? 'active' : '' %>">
                        <%= i %>
                    </a>
                    <% } %>

                        <% if (currentPage < totalPages) { %>
                            <a href="/product?page=<%= currentPage + 1 %>">Next &raquo;</a>
                            <% } %>
    </div>

    <!-- Footer Section -->
    <footer id="footer-section">
        <%- include('footer.ejs') %>
    </footer>

    <!-- Cart Section -->
    <%- include('cart.ejs') %>


</body>

</html>